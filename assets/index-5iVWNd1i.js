var m=Object.defineProperty;var f=(l,e,t)=>e in l?m(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t;var n=(l,e,t)=>(f(l,typeof e!="symbol"?e+"":e,t),t),c=(l,e,t)=>{if(!e.has(l))throw TypeError("Cannot "+t)};var d=(l,e,t)=>(c(l,e,"read from private field"),t?t.call(l):e.get(l)),p=(l,e,t)=>{if(e.has(l))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(l):e.set(l,t)},u=(l,e,t,i)=>(c(l,e,"write to private field"),i?i.call(l,t):e.set(l,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();var r;class h extends HTMLElement{constructor(){super();n(this,"Collapse");n(this,"collapseButton");n(this,"state");n(this,"id");p(this,r,1e3);const t=this.attachShadow({mode:"open"});this.id=this.getAttribute("id"),this.collapseButton=document.querySelector(`[data-collapse-target="${this.id}"]`);const i=document.createElement("div"),s=document.createElement("div"),a=document.createElement("slot");i.appendChild(s),s.appendChild(a),i.className="collapse",s.className="collapse-expandable";const o=document.createElement("style");o.textContent=`
        .collapse {
            display: grid;
            grid-template-rows: 0fr;
            overflow: hidden;
            transition: grid-template-rows .8s cubic-bezier(.3,0,.2,1);
        }
        .collapse.expanded {
         grid-template-rows: 1fr;
        }
        .collapse-expandable {
         min-height: 0;
         opacity: 0;
         transition: opacity 800ms ease;
        }
        
        .collapse.expanded .collapse-expandable {
            opacity: 1;
        }
        `,t.append(o,i),this.Collapse=t.querySelector(".collapse")}connectedCallback(){this.setupVisibleState(),this.setupButtonListeners(),this.setupDuration()}attributeChangedCallback(t,i,s){this.setupVisibleState()}set duration(t){t!==null&&u(this,r,Number.parseInt(t))}get duration(){return d(this,r)}setupDuration(){this.duration=this.getAttribute("duration"),this.Collapse.style.transitionDuration=`${this.duration}ms`}setupButtonListeners(){for(const t of document.querySelectorAll('[data-toggle="collapse"]'))t.addEventListener("click",i=>this.handleCollapseButton(i),!1)}handleCollapseButton(t){t.preventDefault(),this.id===t.currentTarget.dataset.collapseTarget&&(this.collapseButton=t.currentTarget,this.updateCollapseVisibleState(this.state=!this.state),this.toggle())}setupVisibleState(){this.updateCollapseVisibleState(this.hasAttribute("visible")),this.state&&(this.Collapse.classList.add("expanded"),this.collapseButton!==null&&this.collapseButton.classList.add("expanded"),this.state=!0)}toggle(){this.state?this.show():this.hide()}show(){this.Collapse.classList.add("expanded"),this.collapseButton!==null&&this.collapseButton.classList.add("expanded"),this.state=!0,this.emitEventShow()}hide(){this.Collapse.classList.remove("expanded"),this.collapseButton!==null&&this.collapseButton.classList.remove("expanded"),this.state=!1,this.updateButtonState(),setTimeout(()=>this.emitEventHide(),d(this,r))}updateButtonState(){for(const t of document.querySelectorAll(`[data-collapse-target="${this.id}"]`))t.classList.remove("expanded")}emitEventShow(){this.emit();const t=new CustomEvent("collapse.show",{detail:{visible:this.state,collapseId:this.id}});this.dispatchEvent(t)}emitEventHide(){this.emit();const t=new CustomEvent("collapse.hide",{detail:{visible:this.state,collapseId:this.id}});this.dispatchEvent(t)}emit(){dispatchEvent(new CustomEvent("collapse.event",{bubbles:!0,cancelable:!1,composed:!1,detail:{visible:this.state,collapseId:this.id,element:this}}))}updateCollapseVisibleState(t){this.state=t}static define(t){try{customElements.define(t,this)}catch{throw new Error(`Couldn't define ${t} element`)}}}r=new WeakMap,n(h,"observedAttributes",["visible","duration"]);function b(){const l=[],e=({collapseId:i})=>{[...l].filter(s=>s.id!==i).map(s=>s.hide())},t=()=>{for(const i of document.querySelectorAll("gnd-collapse"))l.push(i),i.addEventListener("collapse.show",({detail:s})=>e(s))};return h.define("gnd-collapse"),t(),l}b();
